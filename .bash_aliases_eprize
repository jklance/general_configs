# ePrize Specific Aliases

# Servers
alias portal='ssh jeremy-lance@portal.int.eprize.net'
alias promodev='ssh jeremy-lance@tbx2-promodev.int.eprize.net'
alias promotest='ssh jeremy-lance@t0core-log01.int.eprize.net'
alias xlrdev='ssh jeremy-lance@dev.ec2.eprize.net'
alias xlrlive='ssh jeremy-lance@p1sup-xlr01.int.eprize.net'

# Databases
alias db-live='ssh jeremy-lance@c0sup-rep01'
alias db-devOLAP='mysql -utoybox-admin -pfnord24 -htbx2-olap-dev -A'
alias db-devOLTP='mysql -hdbs -A'
alias db-testOLAP='mysql -useteam -pseteam -ht0core-olap -A'
alias db-testOLTP='mysql -useteam -pseteam -ht0core-dbs -A'

alias db-XLRdev="mysql -A -uaws -pfnordlava -hdbs"
alias db-XLRtest="mysql -A -uaws -pfnordlava -hdbs.test.ec2.eprize.net"
alias db-XLRreview="mysql -A -uaws -pfnordlava -hdbs.review.ec2.eprize.net"
alias db-XLRlive="mysql -A -uaws -pfnordlava -hdbs.live.ec2.eprize.net"

# Services
alias restart-codes='sudo /etc/init.d/codemanager stop && sudo /etc/init.d/codemanager start'
alias restart-tb='sudo /etc/init.d/toybox stop && sudo /etc/init.d/toybox start'
alias restart-awe='sudo /etc/init.d/awe stop && sudo /etc/init.d/awe start'


# Functions etc
alias pc='promocmd'

alias wstable="perl -pi -e 's/(?<=RELOAD_XBOX_APP = )\d+/$&+1/e;' /home/jeremy-lance/www/stable/wsgi/django.wsgi"
alias wdev="perl -pi -e 's/(?<=RELOAD_XBOX_APP = )\d+/$&+1/e;' /home/jeremy-lance/www/development/wsgi/django.wsgi"

pgrep() { grep --color --exclude-dir="snapshots" --exclude-dir="COMPILED" --exclude-dir=".hg" -ir "$@" * 2>/dev/null ;}
apgrep() { grep --color --exclude-dir="snapshots" --exclude-dir="COMPILED" --exclude-dir=".hg" -ir "$@" /www/docs/* 2>/dev/null  ;}

# Logs
log-awe() { tail -f /var/log/awarding_engine  ;}
log-err() { tail -f /www/logs/error_log | grep --color $@ | perl -pe 's/.*Flow.*/\e[1;32m$&\e[0m/g || s/.*Error.*/\e[1;33m$&\e[0m/g || s/.*Fatal.*/\e[1;31m$&\e[0m/g || s/.*SQLExecute.*/\e[1;34m$&\e[0m/g' ;}
log-lerr() { tail -f ~/webroot/logs/poe_error_log | grep --color $@  | perl -pe 's/.*Flow.*/\e[1;32m$&\e[0m/g || s/.*Error.*/\e[1;33m$&\e[0m/g || s/.*Fatal.*/\e[1;31m$&\e[0m/g || s/.*SQLExecute.*/\e[1;34m$&\e[0m/g' ;}
log-msg() { tail -f /var/log/toybox | grep --color $@  ;}
log-code() { tail -f /www/codes/logs/error_log | grep --color $@  ;}
log-xlr() { tail -f /var/log/httpd/error_log | grep --color $@ ;}

